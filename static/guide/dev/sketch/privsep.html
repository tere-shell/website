<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Privilege separation - Tere Documentation</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../../favicon.svg">
        
        
        <link rel="shortcut icon" href="../../favicon.png">
        
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        
        <link rel="stylesheet" href="../../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="../../doc/custom.css">
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../../architecture/index.html"><strong aria-hidden="true">2.</strong> Architecture</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../architecture/dbus.html"><strong aria-hidden="true">2.1.</strong> D-Bus</a></li></ol></li><li class="chapter-item expanded "><a href="../../roadmap.html"><strong aria-hidden="true">3.</strong> Roadmap</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> Comparisons</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../compare/openssh.html"><strong aria-hidden="true">4.1.</strong> OpenSSH</a></li><li class="chapter-item "><a href="../../compare/mosh.html"><strong aria-hidden="true">4.2.</strong> Mosh</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> For developers</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../dev/decisions.html"><strong aria-hidden="true">5.1.</strong> Decisions</a></li><li class="chapter-item "><div><strong aria-hidden="true">5.2.</strong> Background</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../dev/background/dbus.html"><strong aria-hidden="true">5.2.1.</strong> D-Bus</a></li><li class="chapter-item "><a href="../../dev/background/websockets.html"><strong aria-hidden="true">5.2.2.</strong> WebSockets</a></li><li class="chapter-item "><a href="../../dev/background/pty-stdin-stdout.html"><strong aria-hidden="true">5.2.3.</strong> PTY to stdin/stdout plumbing</a></li></ol></li><li class="chapter-item expanded "><a href="../../dev/sketch/index.html"><strong aria-hidden="true">5.3.</strong> Sketches</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../dev/sketch/privsep.html" class="active"><strong aria-hidden="true">5.3.1.</strong> Privilege separation</a></li><li class="chapter-item "><a href="../../dev/sketch/protocols.html"><strong aria-hidden="true">5.3.2.</strong> Protocols used in IPC</a></li><li class="chapter-item "><a href="../../dev/sketch/ipc.html"><strong aria-hidden="true">5.3.3.</strong> IPC</a></li><li class="chapter-item "><a href="../../dev/sketch/attacks.html"><strong aria-hidden="true">5.3.4.</strong> Attacks</a></li><li class="chapter-item "><a href="../../dev/sketch/bastion.html"><strong aria-hidden="true">5.3.5.</strong> Bastion hosts considered harmful</a></li><li class="chapter-item "><a href="../../dev/sketch/unattended-authentication.html"><strong aria-hidden="true">5.3.6.</strong> Unattended authentication</a></li><li class="chapter-item "><a href="../../dev/sketch/account-store.html"><strong aria-hidden="true">5.3.7.</strong> Account store</a></li></ol></li><li class="chapter-item "><a href="../../dev/TODO.html"><strong aria-hidden="true">5.4.</strong> Tasks</a></li><li class="chapter-item "><a href="../../dev/resources.html"><strong aria-hidden="true">5.5.</strong> Resources</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Tere Documentation</h1>

                    <div class="right-buttons">
                        
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="privilege-separation"><a class="header" href="#privilege-separation">Privilege separation</a></h1>
<p>The Tere server consists of multiple co-operating, mostly mutually distrusting, processes.
(Threads are cheaper and can self-sandbox too, but that boundary doesn't prevent reading secrets.)</p>
<p>OpenSSH just privseps from <code>root</code> into the destination user account.
We, however, might be launching sessions in containers, and not on the host itself, we don't switch <code>uid</code> ourself, and the user might not even exist on the host.
We don't even run as <code>root</code> to be able to switch users!
We need to do things differently.</p>
<h2 id="services-and-processes"><a class="header" href="#services-and-processes">Services and processes</a></h2>
<div><!-- Generated by graphviz version 2.43.0 (0)
 --><!-- Title: %3 Pages: 1 --><svg width="388pt" height="404pt"
 viewBox="0.00 0.00 388.30 404.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 400)"><title>%3</title><polygon fill="white" stroke="transparent" points="-4,4 -4,-400 384.3,-400 384.3,4 -4,4"/><!-- network --><g id="node1" class="node"><title>network</title><text text-anchor="middle" x="306" y="-374.3" font-family="Times-Roman" font-size="14.00">network</text></g><!-- server --><g id="node2" class="node"><title>server</title><ellipse fill="none" stroke="black" cx="306" cy="-306" rx="39.79" ry="18"/><text text-anchor="middle" x="306" y="-302.3" font-family="Times-Roman" font-size="14.00">server</text></g><!-- network&#45;&gt;server --><g id="edge1" class="edge"><title>network&#45;&gt;server</title><path fill="none" stroke="black" d="M306,-359.7C306,-351.98 306,-342.71 306,-334.11"/><polygon fill="black" stroke="black" points="306,-334.1 310.5,-324.1 306,-329.1 306,-324.1 306,-324.1 306,-324.1 306,-329.1 301.5,-324.1 306,-334.1 306,-334.1"/></g><!-- user --><g id="node3" class="node"><title>user</title><ellipse fill="none" stroke="black" cx="340" cy="-234" rx="40.09" ry="18"/><text text-anchor="middle" x="340" y="-230.3" font-family="Times-Roman" font-size="14.00">user@</text></g><!-- server&#45;&gt;user --><g id="edge3" class="edge"><title>server&#45;&gt;user</title><path fill="none" stroke="black" d="M314.23,-288.05C318.2,-279.89 323.04,-269.91 327.46,-260.82"/><polygon fill="black" stroke="black" points="327.48,-260.78 335.89,-253.76 329.66,-256.29 331.85,-251.79 331.85,-251.79 331.85,-251.79 329.66,-256.29 327.8,-249.82 327.48,-260.78 327.48,-260.78"/></g><!-- policy --><g id="node4" class="node"><title>policy</title><ellipse fill="none" stroke="black" cx="272" cy="-162" rx="46.29" ry="18"/><text text-anchor="middle" x="272" y="-158.3" font-family="Times-Roman" font-size="14.00">policy@</text></g><!-- server&#45;&gt;policy --><g id="edge2" class="edge"><title>server&#45;&gt;policy</title><path fill="none" stroke="black" d="M300.85,-287.89C297.81,-277.54 293.99,-264.07 291,-252 285.9,-231.43 280.93,-207.97 277.35,-190.31"/><polygon fill="black" stroke="black" points="277.27,-189.94 279.72,-179.25 276.29,-185.04 275.31,-180.14 275.31,-180.14 275.31,-180.14 276.29,-185.04 270.9,-181.02 277.27,-189.94 277.27,-189.94"/></g><!-- user&#45;&gt;policy --><g id="edge4" class="edge"><title>user&#45;&gt;policy</title><path fill="none" stroke="black" stroke-dasharray="5,2" d="M324.57,-217.12C313.6,-205.82 298.9,-190.7 287.84,-179.31"/></g><!-- pty --><g id="node8" class="node"><title>pty</title><ellipse fill="none" stroke="black" cx="270" cy="-18" rx="34.39" ry="18"/><text text-anchor="middle" x="270" y="-14.3" font-family="Times-Roman" font-size="14.00">pty@</text></g><!-- user&#45;&gt;pty --><g id="edge9" class="edge"><title>user&#45;&gt;pty</title><path fill="none" stroke="black" stroke-dasharray="5,2" d="M342.66,-215.96C346.61,-185.38 351.28,-119.9 328,-72 319.95,-55.44 304.26,-41.6 291.23,-32.23"/></g><!-- sessions --><g id="node5" class="node"><title>sessions</title><ellipse fill="none" stroke="black" cx="270" cy="-90" rx="49.29" ry="18"/><text text-anchor="middle" x="270" y="-86.3" font-family="Times-Roman" font-size="14.00">sessions</text></g><!-- policy&#45;&gt;sessions --><g id="edge5" class="edge"><title>policy&#45;&gt;sessions</title><path fill="none" stroke="black" d="M271.51,-143.7C271.29,-135.98 271.02,-126.71 270.77,-118.11"/><polygon fill="black" stroke="black" points="274.27,-118 270.49,-108.1 267.28,-118.2 274.27,-118"/></g><!-- dbus --><g id="node6" class="node"><title>dbus</title><polygon fill="none" stroke="blue" points="54,-36 0,-36 0,0 54,0 54,-36"/><text text-anchor="middle" x="27" y="-14.3" font-family="Times-Roman" font-size="14.00">dbus</text></g><!-- sessions&#45;&gt;dbus --><g id="edge6" class="edge"><title>sessions&#45;&gt;dbus</title><path fill="none" stroke="blue" d="M227.66,-80.64C187.39,-72.14 125.12,-57.57 63.73,-35.93"/><polygon fill="blue" stroke="blue" points="64.88,-32.63 54.29,-32.54 62.52,-39.22 64.88,-32.63"/></g><!-- systemd --><g id="node7" class="node"><title>systemd</title><polygon fill="none" stroke="blue" points="218,-36 72,-36 72,0 218,0 218,-36"/><text text-anchor="middle" x="145" y="-14.3" font-family="Times-Roman" font-size="14.00">systemd FDSTORE</text></g><!-- sessions&#45;&gt;systemd --><g id="edge7" class="edge"><title>sessions&#45;&gt;systemd</title><path fill="none" stroke="blue" d="M244.1,-74.5C226.94,-64.89 204.09,-52.09 184.66,-41.21"/><polygon fill="blue" stroke="blue" points="186.16,-38.04 175.72,-36.2 182.74,-44.14 186.16,-38.04"/></g><!-- sessions&#45;&gt;pty --><g id="edge8" class="edge"><title>sessions&#45;&gt;pty</title><path fill="none" stroke="black" d="M270,-71.7C270,-63.98 270,-54.71 270,-46.11"/><polygon fill="black" stroke="black" points="270,-46.1 274.5,-36.1 270,-41.1 270,-36.1 270,-36.1 270,-36.1 270,-41.1 265.5,-36.1 270,-46.1 270,-46.1"/></g></g></svg></div>
<p>All of the below services use systemd configuration <a href="https://www.freedesktop.org/software/systemd/man/systemd.exec.html#DynamicUser="><code>DynamicUser=yes</code></a>.
Extra group memberships (via <a href="https://www.freedesktop.org/software/systemd/man/systemd.exec.html#SupplementaryGroups="><code>SupplementaryGroups=</code></a>) are used for access control between services, for UNIX domain sockets and D-Bus.</p>
<h3 id="tere-server-is-the-entry-point-from-the-network"><a class="header" href="#tere-server-is-the-entry-point-from-the-network"><code>tere-server</code> is the entry point from the network</a></h3>
<p><code>tere-server</code> serves things like static HTTP assets.
It processes the initial handshake of WebSocket connections, but not the actual WebSocket frames.
WebSocket connection handshakes state the username they are attempting to authenticate as<!-- TODO header, path or query TBD-->.
For every WebSocket connection, <code>tere-server</code> connects to the <code>tere-user@</code> service, which makes systemd spawn a new process.
It also connects to the <code>tere-policy@</code> service, and after a handshake passes this connection to the new <code>tere-user@</code> instance.<sup class="footnote-reference"><a href="#why-server-to-policy">1</a></sup></p>
<p>In the non-TLS, non-HTTP/2 case, <code>tere-server</code> can use FD passing to completely transfer the network socket to <code>tere-user@</code>.
With TLS or WebSockets-over-HTTP/2, it will have to stay in the data path, wrapping and unwrapping the stream in these transports.</p>
<div class="footnote-definition" id="why-server-to-policy"><sup class="footnote-definition-label">1</sup>
<p>Why connect to <code>tere-policy@</code> from <code>tere-server</code>, not from <code>tere-user@</code> where that connection is actually used?
So that <code>tere-user@</code>, which deals with more complex hostile input, can't make <em>other</em> connections and claim to be other usernames.</p>
</div>
<h3 id="tere-user-speaks-with-with-clients"><a class="header" href="#tere-user-speaks-with-with-clients"><code>tere-user@</code> speaks with with clients</a></h3>
<p><code>tere-user@</code> parses most complex potentially hostile input, it is named so because it is the user representative on the server host, and most likely to come under complete user control.</p>
<p>It speaks the WebSocket frame protocol, though once a command-line client exists, we may prefer using a more native transport instead of WebSocket, likely a connection hijack for HTTP/1 and just proxying data for HTTP/2.</p>
<p>It listens on a UNIX domain socket that only group <code>tere-socket-user</code> can connect to.
It uses systemd <a href="https://www.freedesktop.org/software/systemd/man/systemd.socket.html#Accept="><code>Accept=yes</code></a> and <a href="https://www.freedesktop.org/software/systemd/man/systemd.exec.html#DynamicUser="><code>DynamicUser=yes</code></a> to isolate each connection from each other(<a href="http://0pointer.net/blog/dynamic-users-with-systemd.html">1</a>).</p>
<p>Authentication happens inside the WebSocket connection, with <code>tere-user@</code> parsing client messages but delegating all decision-making to <code>tere-policy@</code>.
After authentication, the worker transports shell session requests, shell session input/output streams and such between the client and the <code>tere-policy</code> worker, and via further FD passing to a <code>tere-sessions</code> worker.</p>
<h3 id="tere-policy-is-a-gatekeeper"><a class="header" href="#tere-policy-is-a-gatekeeper"><code>tere-policy@</code> is a gatekeeper</a></h3>
<p><code>tere-policy@</code> manages both authentication and authorization.
It listens on a UNIX domain socket that only user <code>tere-server</code> can connect to.
It uses systemd <a href="https://www.freedesktop.org/software/systemd/man/systemd.socket.html#Accept="><code>Accept=yes</code></a> and <a href="https://www.freedesktop.org/software/systemd/man/systemd.exec.html#DynamicUser="><code>DynamicUser=yes</code></a> to isolate each connection from each other(<a href="http://0pointer.net/blog/dynamic-users-with-systemd.html">1</a>).
It holds an extra group membership <code>tere-socket-sessions</code>.</p>
<p>It reads a message from the connection stating the (still unauthenticated) username, and binds the connection to that username in its state, before parsing any user input.</p>
<p>It authenticates the user, and processes end user requests such as &quot;create a new shell sessions&quot;, running them through a policy engine, and when allowed relays them to the <code>tere-sessions</code> service, relaying data and passed FDs back to the client.</p>
<h3 id="tere-sessions-starts-and-manages-shell-sessions"><a class="header" href="#tere-sessions-starts-and-manages-shell-sessions"><code>tere-sessions</code> starts and manages shell sessions</a></h3>
<p><code>tere-sessions</code> listens on a UNIX domain socket that only group <code>tere-socket-policy</code> can connect to.
It uses D-Bus to talk to <a href="https://www.freedesktop.org/software/systemd/man/systemd-machined.service.html"><code>systemd-machined</code></a> to create shell sessions.
It holds an extra group membership <code>tere-dbus</code> that allows the above.</p>
<p>For every created shell session, <code>systemd-machined</code> returns a PTY FD.
<code>tere-sessions</code> connects to <code>tere-pty@</code>, which makes systemd spawn a new process, and hands the PTY FD to the new process.
It remembers that connection, identified by a random unique session ID.
<code>tere-sessions</code> <a href="https://www.freedesktop.org/software/systemd/man/sd_notify.html#FDSTORE=1">stores both of these FDs in systemd</a> for restarts.<sup class="footnote-reference"><a href="#store-both-fds">2</a></sup>
Later requests to open an existing connection are served by messaging the right <code>tere-pty@</code> process.</p>
<p><code>tere-sessions</code> exists as separate from <code>tere-pty@</code> for two reasons: to prevent D-Bus access after a sandbox escape, and to have a place that can store and re-serve PTY FDs after a software restart or crash.</p>
<div class="footnote-definition" id="store-both-fds"><sup class="footnote-definition-label">2</sup>
<p>Both the PTY FD and the connection to <code>tere-pty@</code> are stored so <code>tere-sessions</code> can avoid starting a new <code>tere-pty@</code> instance when a previous one is already serving that PTY FD.
To handle crash recovery correctly, the communication must not lose track of message boundaries; we can use <a href="https://man7.org/linux/man-pages/man2/socket.2.html"><code>SOCK_SEQPACKET</code></a> for that.
The alternative would be to kill all <code>tere-pty@</code> processes on <code>tere-sessions</code> exit, e.g. via <a href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html#BindsTo=">BindsTo=</a> or <a href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html#PartOf=">PartOf=</a>.</p>
</div>
<h3 id="tere-pty-transports-data-to-and-from-a-pty"><a class="header" href="#tere-pty-transports-data-to-and-from-a-pty"><code>tere-pty@</code> transports data to and from a PTY</a></h3>
<p><code>tere-pty@</code> listens on a UNIX domain socket that only group <code>tere-socket-pty</code> can connect to.
It uses systemd <a href="https://www.freedesktop.org/software/systemd/man/systemd.socket.html#Accept="><code>Accept=yes</code></a> and <a href="https://www.freedesktop.org/software/systemd/man/systemd.exec.html#DynamicUser="><code>DynamicUser=yes</code></a> to isolate each connection from each other(<a href="http://0pointer.net/blog/dynamic-users-with-systemd.html">1</a>).</p>
<p><code>tere-pty@</code> receives the PTY FD over the incoming connection, and later receives client requests.</p>
<p>It serves new clients connecting to its sessions by creating two socketpairs, one for PTY input/output and the other as a command channel, and passing these FDs to the client.</p>
<p>It transports data between the PTY and (once implemented) multiple clients, broadcasting the same PTY output stream to all clients.</p>
<p>Some clients may be read-only and are for them the PTY input side of the socket is shutdown.</p>
<p>The command channel is used to update the terminal size on window resize.</p>
<h2 id="resources"><a class="header" href="#resources">Resources</a></h2>
<ul>
<li>https://landlock.io/ and https://crates.io/crates/landlock</li>
<li>https://github.com/openssh/openssh-portable/blob/master/README.privsep</li>
<li>http://www.citi.umich.edu/u/provos/ssh/privsep.html
(<a href="https://web.archive.org/web/20210424044821/http://www.citi.umich.edu/u/provos/ssh/privsep.html">archived</a>)</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../../dev/sketch/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../../dev/sketch/protocols.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../../dev/sketch/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../../dev/sketch/protocols.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        <script type="text/javascript" src="../../doc/mermaid.min.js"></script>
        
        <script type="text/javascript" src="../../doc/mermaid-init.js"></script>
        

        

    </body>
</html>
